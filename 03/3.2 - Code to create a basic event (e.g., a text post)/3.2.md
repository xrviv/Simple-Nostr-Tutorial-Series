To create a simple event in Nostr, we will add to our existing code. The event will be defined with necessary attributes like kind, created_at, tags, and content. Here's how you can modify and extend the code to include the creation of a simple event:

```
const { generateSecretKey, getPublicKey, nip19, finalizeEvent } = require('nostr-tools');

// Generate a private key
let sk = generateSecretKey();
console.log("Raw Private Key:", Buffer.from(sk).toString('hex'))

// Encode the private key using NIP-19 nsecEncode method
let nsec = nip19.nsecEncode(sk);
console.log("NIP-19 Encoded Private Key (nsec):", nsec);

// Derive the raw public key from the private key
let rawPublicKey = getPublicKey(sk);
console.log("Raw Public Key:", rawPublicKey);

// Encode the public key using NIP-19 npubEncode method
let npub = nip19.npubEncode(rawPublicKey);
console.log("NIP-19 Encoded Public Key (npub):", npub);

// Define an event template
let eventTemplate = {
  kind: 1, // The kind of event, e.g., 1 for a text note
  created_at: Math.floor(Date.now() / 1000), // Timestamp of event creation
  tags: [], // Tags for the event, if any
  content: 'This is a sample Nostr event.', // Content of the event
};

// Sign the event with the private key
let signedEvent = finalizeEvent(eventTemplate, sk);
console.log("Signed Event:", signedEvent);

```
**Run:** After opening index.js, run `node index.js`

**Note:** Don't forget to run `npm install nostr-tools` inside the *nostr-app* folder

### Observations

In the code: 

```
// Define an event template
let eventTemplate = {
  kind: 1, // The kind of event, e.g., 1 for a text note
  created_at: Math.floor(Date.now() / 1000), // Timestamp of event creation
  tags: [], // Tags for the event, if any
  content: 'This is a sample Nostr event.', // Content of the event
};

// Sign the event with the private key
let signedEvent = finalizeEvent(eventTemplate, sk);
console.log("Signed Event:", signedEvent);

```

We notice that the event is signed with 'sk', which is the raw private key we generated and not the NIP-19 encoded one (prefaced with nsec). 

![image](https://github.com/xrviv/Simple-Nostr-Tutorial-Series/assets/44260360/9362af70-3128-4bed-960d-0bb55d824efc)

Successfully runnning `node index.js` We notice that the signed event included `eventTemplate` plus the following fields: `id` and `sig`.

